<script type="text/javascript">

/*!
 * Ext JS Library 3.2.1
 * Copyright(c) 2006-2010 Ext JS, Inc.
 * licensing@extjs.com
 * http://www.extjs.com/license
 */

LABKEY.requiresScript("/ehr/formHelper.js");


Ext.onReady(function(){

    new EHR.ext.formPanel({
        title: 'Test EHR Form',
        activeTab: 0,
        width: 600,
        id: 'testForm',
        items: [
            {
                xtype: 'ehr-header'
            },{
                xtype: 'ehr-queryset',
                queryName: 'vitals',
                schemaName: 'study',
                title: 'Vitals',
                metadata: EHR.ext.standardMetadata
            },{
                xtype: 'ehr-queryset',
                queryName: 'alopecia',
                schemaName: 'study',
                title: 'Alopecia',
                metadata: EHR.UTILITIES.rApply(EHR.ext.standardMetadata, {
                    head: {ext: {xtype: 'ehr-booleancombo', value: null}}
                })
            },{
                xtype: 'ehr-queryset',
                queryName: 'bcs',
                schemaName: 'study',
                title: 'Body Condition',
                metadata: EHR.ext.standardMetadata
            },{
                xtype: 'ehr-queryset',
                queryName: 'Dental Status',
                schemaName: 'study',
                title: 'Dental Status',
                metadata: EHR.ext.standardMetadata
//            },{
//                xtype: 'fieldset',
//                width: '80%',
//                title: 'Treatments',
//                collapsible: true,
//                metadata: EHR.ext.standardMetadata,
//                items: [{
//                    id: 'treatments',
//                    xtype: 'ehr-formgrid',
//                    store: EHR.ext.getLookupStore({
//                        schemaName: 'study',
//                        queryName: 'treatments',
//                        sort: '-date',
//                        autoLoad: true
//                    })
//                }]
            }
        ]
    }).render('formDiv');

//var store = new LABKEY.ext.Store({
//    containerPath: 'WNPRC/EHR/',
//    schemaName: 'study',
//    queryName: 'treatments',
//    maxRecords: 1,
//    listeners: {
//        scope: this,
//        load: function(c){alert('123456')}
//    }
//});
//
//store.on('load', function(c){alert('abc')}, this);
//console.log(store)
    
});


</script>

<div id="formDiv"></div>        