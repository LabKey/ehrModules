<html>
<head>
<script type="text/javascript">

/*!
 * Ext JS Library 3.2.1
 * Copyright(c) 2006-2010 Ext JS, Inc.
 * licensing@extjs.com
 * http://www.extjs.com/license
 */

LABKEY.requiresScript("/ehr/formHelper.js");


Ext.onReady(function(){

    new EHR.ext.formPanel({
        title: 'Test EHR Form',
        width: 600,
        containerPath: 'WNPRC/EHR/',
        id: 'testForm',
//        header: {
//            xtype: 'ehr-header'
//        },
        tabs: [
            {
                xtype: 'ehr-queryset',
                queryName: 'vitals',
                schemaName: 'study',
                title: 'Vitals',
                metadata: EHR.ext.standardMetadata
            },{
                xtype: 'ehr-queryset',
                queryName: 'alopecia',
                schemaName: 'study',
                title: 'Alopecia',
                metadata: EHR.UTILITIES.rApply(EHR.ext.standardMetadata, {
                    head: {ext: {xtype: 'ehr-booleancombo', value: null}}
                })
            },{
                xtype: 'ehr-queryset',
                queryName: 'Body Condition',
                schemaName: 'study',
                title: 'Body Condition',
                metadata: EHR.ext.standardMetadata
            },{
                xtype: 'ehr-queryset',
                queryName: 'Dental Status',
                schemaName: 'study',
                title: 'Dental Status',
                metadata: EHR.UTILITIES.rApply(EHR.ext.standardMetadata, {
                    gingivitis: {requireSelection: true, lookupNullCaption: 'N/A', value: null},
                    tartar: {allowBlank: false, lookupNullCaption: 'N/A', ext: {value: null}}
                })

    //            },{
    //                xtype: 'fieldset',
    //                width: '80%',
    //                title: 'Treatments',
    //                collapsible: true,
    //                metadata: EHR.ext.standardMetadata,
    //                items: [{
    //                    id: 'treatments',
    //                    xtype: 'ehr-formgrid',
    //                    store: EHR.ext.getLookupStore({
    //                        schemaName: 'study',
    //                        queryName: 'treatments',
    //                        sort: '-date',
    //                        autoLoad: true
    //                    })
    //                }]
            }
        ]
    }).render('formDiv');

    
});


</script>
</head>
<body>
<div id="formDiv"></div>



</body>


</html>