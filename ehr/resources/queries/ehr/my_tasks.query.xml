<query xmlns="http://labkey.org/data/xml/query">
    <metadata>
        <tables xmlns="http://labkey.org/data/xml">
            <table tableName="tasks" tableDbType="TABLE">
                <tableUrl>/ehr/taskDetails.view?formtype=${formtype}&amp;taskid=${taskid}</tableUrl>
                <!--<updateUrl>/ehr/manageTask.view?formtype=${formtype}&amp;taskid=${taskid}</updateUrl>-->
                <!--<insertUrl>/ehr/manageTask.view</insertUrl>-->
                <insertUrl />
                <updateUrl />
                <titleColumn>RowId</titleColumn>
                <columns>
                    <column columnName="rowid">
                        <columnTitle>Task Id</columnTitle>
                        <isAutoInc>true</isAutoInc>
                        <nullable>true</nullable>
                    </column>
                    <column columnName="formtype">
                        <columnTitle>Task Type</columnTitle>
                    </column>
                    <column columnName="assignedto">
                        <columnTitle>Assigned To</columnTitle>
                        <nullable>true</nullable>
                        <fk>
                            <fkDbSchema>core</fkDbSchema>
                            <fkTable>PrincipalsWithoutAdmin</fkTable>
                            <fkColumnName>userid</fkColumnName>
                        </fk>
                    </column>
                    <column columnName="duedate">
                        <columnTitle>Due Date</columnTitle>
                        <nullable>true</nullable>
                    </column>
                    <column columnName="createdby">
                        <columnTitle>Created By</columnTitle>
                        <fk>
                            <fkDbSchema>core</fkDbSchema>
                            <fkTable>users</fkTable>
                            <fkColumnName>userid</fkColumnName>
                        </fk>
                    </column>
                    <column columnName="created">
                        <columnTitle>Created</columnTitle>
                        <formatString>yyyy-MM-dd HH:mm</formatString>
                    </column>
                    <column columnName="modifiedby">
                        <columnTitle>Modified By</columnTitle>
                    </column>
                    <column columnName="modified">
                        <columnTitle>Modified</columnTitle>
                    </column>
                    <!--<column columnName="qcstate">-->
                        <!--<columnTitle>Status</columnTitle>-->
                        <!--<fk>-->
                            <!--<fkDbSchema>study</fkDbSchema>-->
                            <!--<fkTable>qcstate</fkTable>-->
                            <!--<fkColumnName>rowid</fkColumnName>-->
                        <!--</fk>-->
                        <!--<conditionalFormats>-->
                            <!--<conditionalFormat>-->
                                <!--<filters>-->
                                    <!--<filter operator="eq" value="In Progress"/>-->
                                <!--</filters>-->
                                <!--<backgroundColor>FBEC5D</backgroundColor>-->
                            <!--</conditionalFormat>-->
                            <!--<conditionalFormat>-->
                                <!--<filters>-->
                                    <!--<filter operator="eq" value="Review Required"/>-->
                                <!--</filters>-->
                                <!--<backgroundColor>FBEC5D</backgroundColor>-->
                            <!--</conditionalFormat>-->
                            <!--<conditionalFormat>-->
                                <!--<filters>-->
                                    <!--<filter operator="eq" value="Scheduled"/>-->
                                <!--</filters>-->
                                <!--<backgroundColor>FBEC5D</backgroundColor>-->
                            <!--</conditionalFormat>-->
                            <!--<conditionalFormat>-->
                                <!--<filters>-->
                                    <!--<filter operator="eq" value="Delete Requested"/>-->
                                <!--</filters>-->
                                <!--<backgroundColor>FF0000</backgroundColor>-->
                            <!--</conditionalFormat>-->
                            <!--<conditionalFormat>-->
                                <!--<filters>-->
                                    <!--<filter operator="eq" value="Request: Approved"/>-->
                                <!--</filters>-->
                                <!--<backgroundColor>FBEC5D</backgroundColor>-->
                            <!--</conditionalFormat>-->
                            <!--<conditionalFormat>-->
                                <!--<filters>-->
                                    <!--<filter operator="eq" value="Request: Denied"/>-->
                                <!--</filters>-->
                                <!--<backgroundColor>FBEC5D</backgroundColor>-->
                            <!--</conditionalFormat>-->
                            <!--<conditionalFormat>-->
                                <!--<filters>-->
                                    <!--<filter operator="eq" value="Request: Pending"/>-->
                                <!--</filters>-->
                                <!--<backgroundColor>FBEC5D</backgroundColor>-->
                            <!--</conditionalFormat>-->
                        <!--</conditionalFormats>-->
                    <!--</column>-->
                </columns>
                <buttonBarOptions includeStandardButtons="false">
                    <includeScript>/ehr/studyButtons.js</includeScript>
                    <!--<onRender>EHR.DatasetButtons.moreActionsHandler</onRender>-->
                    <item text="Views">
                        <originalText>Views</originalText>
                    </item>
                    <item text="Export">
                        <originalText>Export</originalText>
                    </item>
                    <item text="Print">
                        <originalText>Print</originalText>
                    </item>
                    <!--<item text="Import Data">-->
                        <!--<originalText>Import Data</originalText>-->
                    <!--</item>-->
                    <item text="Page Size">
                        <originalText>Page Size</originalText>
                    </item>
                    <item text="Duplicate" requiresSelection="true">
                        <onClick>EHR.DatasetButtons.duplicateTaskHandler(dataRegion)</onClick>
                    </item>
                </buttonBarOptions>
            </table>
        </tables>
    </metadata>
</query>
