<query xmlns="http://labkey.org/data/xml/query">
    <metadata>
        <tables xmlns="http://labkey.org/data/xml">
            <table tableName="treatmentSchedule" tableDbType="TABLE">
                <!--<tableUrl>/query/detailsQueryRow.view?schemaName=study&amp;query.queryName=treatment_order&amp;lsid=${lsid}</tableUrl>-->
                <tableUrl>/EHR/treatmentDetails.view?key=${objectid}</tableUrl>
                <columns>
                    <column columnName="lsid">
                        <isHidden>true</isHidden>
                    </column>
                    <column columnName="objectid">
                        <isHidden>true</isHidden>
                    </column>
                    <column columnName="Id">
                        <fk>
                            <fkDbSchema>study</fkDbSchema>
                            <fkTable>animal</fkTable>
                            <fkColumnName>Id</fkColumnName>
                        </fk>
                    </column>
                    <column columnName="project">
                        <fk>
                            <fkDbSchema>lists</fkDbSchema>
                            <fkTable>project</fkTable>
                            <fkColumnName>project</fkColumnName>
                        </fk>
                    </column>
                    <column columnName="StartDate">
                        <datatype>timestamp</datatype>
                        <columnTitle>Start Date</columnTitle>
                        <formatString>yyyy-MM-dd</formatString>
                    </column>
                    <column columnName="code">
                        <datatype>varchar</datatype>
                        <nullable>false</nullable>
                        <columnTitle>SNOMED</columnTitle>
                        <fk>
                            <fkDbSchema>lists</fkDbSchema>
                            <fkTable>snomed</fkTable>
                            <fkColumnName>code</fkColumnName>
                        </fk>
                    </column>
                    <column columnName="parentId">
                        <fk>
                          <fkDbSchema>study</fkDbSchema>
                          <fkTable>encounters</fkTable>
                          <fkColumnName>objectid</fkColumnName>
                        </fk>
                    </column>
                    <column columnName="frequency">
                        <isHidden>true</isHidden>
                        <fk>
                          <fkDbSchema>lookups</fkDbSchema>
                          <fkTable>treatment_frequency</fkTable>
                          <fkColumnName>key</fkColumnName>
                        </fk>
                    </column>
                    <column columnName="remark">
                        <displayWidth>250</displayWidth>
                    </column>
                    <column columnName="RoomAtTime">
                        <displayWidth>50</displayWidth>
                    </column>
                    <column columnName="CageAtTime">
                        <displayWidth>50</displayWidth>
                    </column>
                    <column columnName="CurrentRoom">
                        <displayWidth>40</displayWidth>
                    </column>
                    <column columnName="CurrentCage">
                        <displayWidth>40</displayWidth>
                    </column>                    
                </columns>
            </table>
        </tables>
    </metadata>
</query>