<query xmlns="http://labkey.org/data/xml/query">
    <metadata>
        <tables xmlns="http://labkey.org/data/xml">
            <table tableName="housing" tableDbType="TABLE">
                <tableUrl>/query/detailsQueryRow.view?schemaName=study&amp;query.queryName=housing&amp;lsid=${lsid}</tableUrl>
                <columns>
                    <column columnName="TotalRoommates" wrappedColumnName="lsid">
                        <columnTitle>Total Roommates</columnTitle>
                        <isHidden>false</isHidden>
                        <isUnselectable>true</isUnselectable>
                        <fk>
                            <fkFolderPath>/wnprc/ehr/</fkFolderPath>
                            <fkDbSchema>study</fkDbSchema>
                            <fkTable>housingTotalRoommates</fkTable>
                            <fkColumnName>objectid</fkColumnName>
                        </fk>
                    </column>
                    <column columnName="date">
                        <formatString>yyyy-MM-dd HH:mm</formatString>
                        <columnTitle>In Date</columnTitle>
                    </column>
                    <column columnName="odate">
                        <nullable>true</nullable>
                        <datatype>timestamp</datatype>
                        <formatString>yyyy-MM-dd HH:mm</formatString>
                        <columnTitle>Out Date</columnTitle>
                    </column>
                    <column columnName="room">
                        <datatype>varchar</datatype>
                        <nullable>false</nullable>
                        <columnTitle>Room</columnTitle>
                        <url>/EHR/cageDetails.view?
                            room=${room}&amp;
                            cage=${cage}&amp;
                        </url>
                        <fk>
                            <fkFolderPath>/wnprc/ehr/</fkFolderPath>
                            <fkDbSchema>lists</fkDbSchema>
                            <fkTable>rooms</fkTable>
                            <fkColumnName>room</fkColumnName>
                        </fk>
                    </column>
                    <column columnName="cage">
                        <datatype>varchar</datatype>
                        <!--<nullable>false</nullable>-->
                        <columnTitle>Cage</columnTitle>
                        <url>/EHR/cageDetails.view?
                            room=${room}&amp;
                            cage=${cage}&amp;
                        </url>
                    </column>
                    <column columnName="cond">
                        <nullable>true</nullable>
                        <datatype>varchar</datatype>
                        <columnTitle>Condition</columnTitle>
                        <fk>
                            <fkFolderPath>/wnprc/ehr/</fkFolderPath>
                            <fkDbSchema>ehr_lookups</fkDbSchema>
                            <fkTable>condition_codes</fkTable>
                            <fkColumnName>Code</fkColumnName>
                        </fk>
                    </column>
                    <column columnName="parentId">
                        <fk>
                          <fkFolderPath>/wnprc/ehr/</fkFolderPath>
                          <fkDbSchema>study</fkDbSchema>
                          <fkTable>encounters</fkTable>
                          <fkColumnName>objectid</fkColumnName>
                        </fk>
                    </column>
                </columns>
            </table>
        </tables>
    </metadata>
</query>